<html>
<head>
<!-- CSS only -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x"
	crossorigin="anonymous">
<!-- JavaScript Bundle with Popper -->
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
	crossorigin="anonymous"></script>
<script type="text/javascript" src="../static/charterRewards.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){
	var d = 100;
	  $("button").click(function(){
		  var transactions = $("#transactions").val();
	    $.ajax({type: "POST", url: "./getRewards", data: transactions, success: function(result){
	    	if(result.errorFound){
	    		$("#successMsg").hide();
	    		$("#errorMsg").html("Error: "+result.errorMessage);
	    		$("#errorMsg").show();
	    	} else {
	    		$("#successMsg").show();
	    		$("#successMsg").html("Total no of rewards: "+result.rewards);
	    		$("#errorMsg").hide();
	    	}
	    }});
	  });
	});
</script>
<title>Charter Rewards</title>
</head>
<body>
	<div class="container">
		<div id="formDiv">
			<br />
			<div class="alert alert-primary" role="alert">
				<h1>Charter Rewards</h1>
				1 point for every dollar spent over $50 and 2points for every dollar
				spent over $100!
			</div>

			<textarea rows="10" cols="15" class="form-control" id="transactions"></textarea>
			<br />
			<button class="w-100 btn btn-primary btn-lg">Calculate
				Rewards</button>
		</div>
		<div class="alert alert-info" role="alert" id="successMsg" style="display: none;">
		</div>
		<div class="alert alert-danger" role="alert" id="errorMsg" style="display: none;">
		</div>
	</div>


</body>
</html>